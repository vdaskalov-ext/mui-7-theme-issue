"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getAnonymousMachineId;
var _interopRequireWildcard2 = _interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));
var _crypto = require("crypto");
async function getAnonymousMachineId() {
  try {
    const nodeMachineId = await Promise.resolve().then(() => (0, _interopRequireWildcard2.default)(require('node-machine-id')));
    const rawMachineId = await nodeMachineId.machineId(true);
    if (!rawMachineId) {
      return null;
    }
    return (0, _crypto.createHash)('sha256').update(rawMachineId).digest('hex');
  } catch (_) {
    // Ignore any errors
    return null;
  }
}